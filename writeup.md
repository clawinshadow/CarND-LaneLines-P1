# **Finding Lane Lines on the Road** 

## Writeup 


**Finding Lane Lines on the Road**

The goals / steps of this project are the following:
* Make a pipeline that finds lane lines on the road
* Reflect on your work in a written report


---

### Reflection

### 1. Description of the pipeline to process image

My pipeline consisted of the following steps.

**Step 1**: Convert the image to grayscale image

**Step 2**: Smooth the grayscale image by GaussianBlur, with kernel size equals to 5

**Step 3**: Base on the blurred image, apply Canny edge detection

**Step 4**: Define a ROI to restrict the region we think lane lines should be within

**Step 5**: Use Hough transformation to detection the potential lane lines inside the ROI

**Step 6**: Average & extrapolate the potential lane lines, integrate them into 2 separate lines, the left & right lane line respectively, the details is:
    
    1. We can seperate the potential lines into 2 groups by the slope of each line. 
       If it's negative, it should be a left lane line, while it belongs to right lane line if it's positive
    2. Average the slopes of left & right lane lines, respectively
    3. If we want to get an unique line in 2D plane, we need a slope and a point. 
       The slope is calculated in 2, then the point will be calculated by the vertices of the potential lane lines.
    4. Clip the straight line, by calculating the intersect points of the line and the ROI edge.
    5. Draw the integrated lane line, with red color and thickness = 10


### 2. Potential Shortcomings

1. About how to remove the noise in the potential lines generated by Hough transformation, I use the median instead of the average to decrease the effect of outliers, but it can't diminish all the noise
2. We have to manually tune the parameters of Canny and Hough transformation each time when we face a different type of images or videos. It based on experience and need much time to get a satisfied result.
3. Hough transformation can only used to detect straight line, whatif the curve line?

### 3. Suggest possible improvements

1. Perhaps we can restrict the range of slope in the lane lines, to remove more noise, for example, the horizontal line (slope near to 0) is definitely a noise.
2. Need an adaptive function to tune the parameters automatically, may seek help from deep learning, let the program to recognize different types of image and then choose the suitable parameters

---
### Changes after review
1. Derease gaussian blur kernel size to 3

2. Tune parameters of Hough transformation: threshold = 55, min_line_length = 110, max_line_gap = 120

3. Apply the prior knowledge of the video, to remove the lane line shakeness.
   Compare the coordinates of current lane line to the prior average, if the difference of pixels greater than 150, use the average instead